(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=o(l);fetch(l.href,r)}})();let d=(e,t=500,o=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=o?`${o}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!o,o||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),o||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},m=(e,t=500,o=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,o&&e.style.removeProperty("height");let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=o?`${o}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}},p=(e,t=500)=>e.hidden?m(e,t):d(e,t),a=!0,y=(e=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?v(e):w(e)},v=(e=500)=>{if(a){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(o=>{o.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),a=!1,setTimeout(function(){a=!0},e)}},w=(e=500)=>{if(a){const t=document.querySelectorAll("[data-fls-lp]"),o=window.innerWidth-document.body.offsetWidth+"px";t.forEach(s=>{s.style.paddingRight=o}),document.body.style.paddingRight=o,document.documentElement.setAttribute("data-fls-scrolllock",""),a=!1,setTimeout(function(){a=!0},e)}};function g(e,t=" "){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,`$1${t}`)}function L(e){return e.filter((t,o,s)=>s.indexOf(t)===o)}function b(){document.addEventListener("click",function(e){a&&e.target.closest("[data-fls-menu]")&&(y(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",b);function P(){const e=document.querySelector("[data-fls-header-scroll]"),t=e.hasAttribute("data-fls-header-scroll-show"),o=e.dataset.flsHeaderScrollShow?e.dataset.flsHeaderScrollShow:500,s=e.dataset.flsHeaderScroll?e.dataset.flsHeaderScroll:1;let l=0,r;document.addEventListener("scroll",function(i){const c=window.scrollY;clearTimeout(r),c>=s?(e.classList.contains("--header-scroll")||e.classList.add("--header-scroll"),t&&(c>l?e.classList.contains("--header-show")&&e.classList.remove("--header-show"):e.classList.contains("--header-show")||e.classList.add("--header-show"),r=setTimeout(()=>{e.classList.contains("--header-show")||e.classList.add("--header-show")},o))):(e.classList.contains("--header-scroll")&&e.classList.remove("--header-scroll"),t&&e.classList.contains("--header-show")&&e.classList.remove("--header-show")),l=c<=0?0:c})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",P);class S{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(t=>{const s=t.dataset.flsDynamic.trim().split(","),l={};l.element=t,l.parent=t.parentNode,l.destinationParent=s[3]&&t.closest(s[3].trim())||document,s[3]&&s[3].trim();const r=s[0]?s[0].trim():null;if(r){const i=l.destinationParent.querySelector(r);i&&(l.destination=i)}l.breakpoint=s[1]?s[1].trim():"767.98",l.place=s[2]?s[2].trim():"last",l.index=this.indexInParent(l.parent,l.element),this.objects.push(l)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:t})=>`(${this.type}-width: ${t/16}em),${t}`).filter((t,o,s)=>s.indexOf(t)===o),this.mediaQueries.forEach(t=>{const o=t.split(","),s=window.matchMedia(o[0]),l=o[1],r=this.objects.filter(({breakpoint:i})=>i===l);s.addEventListener("change",()=>{this.mediaHandler(s,r)}),this.mediaHandler(s,r)})}mediaHandler(t,o){t.matches?o.forEach(s=>{s.destination&&this.moveTo(s.place,s.element,s.destination)}):o.forEach(({parent:s,element:l,index:r})=>{l.classList.contains(this.daClassname)&&this.moveBack(s,l,r)})}moveTo(t,o,s){o.classList.add(this.daClassname);const l=t==="last"||t==="first"?t:parseInt(t,10);l==="last"||l>=s.children.length?s.append(o):l==="first"?s.prepend(o):s.children[l].before(o)}moveBack(t,o,s){o.classList.remove(this.daClassname),t.children[s]!==void 0?t.children[s].before(o):t.append(o)}indexInParent(t,o){return[...t.children].indexOf(o)}arraySort(t){if(this.type==="min")t.sort((o,s)=>o.breakpoint===s.breakpoint?o.place===s.place?0:o.place==="first"||s.place==="last"?-1:o.place==="last"||s.place==="first"?1:0:o.breakpoint-s.breakpoint);else{t.sort((o,s)=>o.breakpoint===s.breakpoint?o.place===s.place?0:o.place==="first"||s.place==="last"?1:o.place==="last"||s.place==="first"?-1:0:s.breakpoint-o.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new S);class E{constructor(t){let o={logging:!0};this.config=Object.assign(o,t),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(t){t.length&&L(Array.from(t).map(function(s){if(s.dataset.flsWatcher==="navigator"&&!s.dataset.flsWatcherThreshold){let l;s.clientHeight>2?(l=window.innerHeight/2/(s.clientHeight-1),l>1&&(l=1)):l=1,s.setAttribute("data-fls-watcher-threshold",l.toFixed(2))}return`${s.dataset.flsWatcherRoot?s.dataset.flsWatcherRoot:null}|${s.dataset.flsWatcherMargin?s.dataset.flsWatcherMargin:"0px"}|${s.dataset.flsWatcherThreshold?s.dataset.flsWatcherThreshold:0}`})).forEach(s=>{let l=s.split("|"),r={root:l[0],margin:l[1],threshold:l[2]},i=Array.from(t).filter(function(n){let h=n.dataset.flsWatcherRoot?n.dataset.flsWatcherRoot:null,u=n.dataset.flsWatcherMargin?n.dataset.flsWatcherMargin:"0px",f=n.dataset.flsWatcherThreshold?n.dataset.flsWatcherThreshold:0;if(String(h)===r.root&&String(u)===r.margin&&String(f)===r.threshold)return n}),c=this.getScrollWatcherConfig(r);this.scrollWatcherInit(i,c)})}getScrollWatcherConfig(t){let o={};if(document.querySelector(t.root)?o.root=document.querySelector(t.root):t.root,o.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if(t.threshold==="prx"){t.threshold=[];for(let s=0;s<=1;s+=.005)t.threshold.push(s)}else t.threshold=t.threshold.split(",");return o.threshold=t.threshold,o}}scrollWatcherCreate(t){this.observer=new IntersectionObserver((o,s)=>{o.forEach(l=>{this.scrollWatcherCallback(l,s)})},t)}scrollWatcherInit(t,o){this.scrollWatcherCreate(o),t.forEach(s=>this.observer.observe(s))}scrollWatcherIntersecting(t,o){t.isIntersecting?o.classList.contains("--watcher-view")||o.classList.add("--watcher-view"):o.classList.contains("--watcher-view")&&o.classList.remove("--watcher-view")}scrollWatcherOff(t,o){o.unobserve(t)}scrollWatcherCallback(t,o){const s=t.target;this.scrollWatcherIntersecting(t,s),s.hasAttribute("data-fls-watcher-once")&&t.isIntersecting&&this.scrollWatcherOff(s,o),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new E({}));export{p as a,g,d as s};
